"use strict";import{currentResult as e,modifyCurrentResult as l,result as t,modifyResult as c,sign as i,modifySign as n,resultText as r,formula as a,operValues as u,unaryOperChars as o,memShown as k,modifyMemShown as m,solve as v,modifySolve as h,isDelLastChar as B,modifyIsDelLastChar as f,isLastChar as s,isLastCharOper as $}from"./0_variables_and_checks_min.js";import{resetChecks as g,rewriteCurrentResult as M,rewriteResult as _,addToResult as p,addToFormula as S,addToResultAndFormula as U,addToAll as j,clearResult as C,clearCurrentResultText as D,addOperValue as L,clearOperValues as d,showZeroDevisionError as w}from"./1_common_functions_min.js";import{solveBinary as y,percentage as P,markUp as b}from"./2_calculation_logic_min.js";import{delLastChar as x,addShortedRes as E,changeDecResult as q,saveMemNum as z}from"./3_other_logic_min.js";let clickDelLastChar=()=>{(!v||1!==t.length||B)&&(c(x(t)),E(t),f(!0),1===u.length&&d())},clickShowMemBtn=()=>{let n=()=>{M(e),_(t),S(k.value),g()};if(""!==a.value&&""===i||v){l(k.value),c(k.value),S("; "),n();return}c(k.value),n()},clickSolveBtn=()=>{if("\xf7"===i&&""!==t&&0===Number(t)){w(),h(!0),n("="),c("Error");return}$(t)&&"-"!==t&&(C(),U(e)),o.includes(i)||""===e||(L(t),l(y(e,i,u[u.length-1])),n("="),M(""),C(),p(q(e)),""===a.value||v||S("="+e),d(),h(!0),g())},clickBinaryBtn=r=>{let a=()=>{n(r),M(e),U(r),h(!1),g()};if(""!==t&&"-"!==t){if(L(t),s(t,".")&&clickDelLastChar(),$(t)&&"="!==i&&"-"!==t){c(x(t)),E(t),a();return}if(u.length<2&&"MU"!==i){l(t),a();return}l(y(e,i,u[u.length-1])),a()}"-"!==r||$(t)||j(r)},clickPercentBtn=()=>{if(""!==i&&u.length>0&&!$(t)){let r=P(e,t);("\xd7"===i||"\xf7"===i)&&(r=t/100),l(y(e,i,r)),c(e),d(),D(),_(e),S("%="+e),h(!0),n("%"),g()}},clickMarkUpBtn=()=>{b(),c(e),h(!0),n("MU"),d(),D(),_(e),S("MU="+e),g()},clickSaveMemBtn=c=>{if(!$(t)||"-"!==k.value[0]){if("="!==i&&""!==i){L(t),l(y(e,i,u[u.length-1])),n("="),M(""),_(e),""!==a.value&&!1===v&&S("="+e),d(),h(!0),_(e),m(Number(k.value)+e),z(k.value);return}l(r.value),m(y(k.value,c,e)),z(k.value)}};export{clickDelLastChar,clickShowMemBtn,clickSolveBtn,clickBinaryBtn,clickPercentBtn,clickMarkUpBtn,clickSaveMemBtn};